module.exports=[17852,a=>{"use strict";var b=a.i(72358),c=a.i(9981);function d(){let[a,d]=(0,c.useState)(""),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)({full_name:"",student_id:"",email:"",program:"",enrollment_year:""}),[q,r]=(0,c.useState)({course_code:"",course_name:"",credit_hours:""}),[s,t]=(0,c.useState)({student_id:"",course_code:"",grade:"",semester:"",year:""}),[u,v]=(0,c.useState)({student_id:"",activity_name:"",description:"",participation_date:""}),[w,x]=(0,c.useState)({student_id:"",tuition_paid:!0,clearance_approved:!0}),[y,z]=(0,c.useState)({student_id:"",status:"active",graduation_year:""}),[A,B]=(0,c.useState)("");async function C(a,b,c,d){h(""),l(""),j(null),f(c);try{let c=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),e=await c.json();if(!c.ok)throw Error(e.error||"Request failed");l(e.message||"Operation completed"),(e.blockchainTxHash||e.pdfPath)&&j(e),d&&d()}catch(a){h(a.message||"Unexpected error occurred")}finally{f("")}}async function D(b){let c=a.trim();c?await C("issue"===b?"/api/admin/issue-certificate":"/api/admin/revoke",{studentId:c},b):h("Please enter a valid student ID")}async function E(){let a=A.trim();if(!a)return void h("Enter a student ID to view summary");h(""),l(""),f("summary");try{let b=await fetch(`/api/admin/student-summary?studentId=${encodeURIComponent(a)}`),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to fetch summary");n(c.data)}catch(a){h(a.message||"Failed to fetch summary"),n(null)}finally{f("")}}let F="issue"===e,G="revoke"===e,H=!!e;return(0,b.jsxs)("main",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem 1.25rem",fontFamily:"Arial, sans-serif",display:"grid",gap:"1rem"},children:[(0,b.jsx)("h1",{style:{marginBottom:0},children:"Academic Record Admin Dashboard"}),(0,b.jsx)("p",{style:{marginTop:0},children:"Admin actions are executed via backend API routes only. This keeps private keys in the backend and enforces secure DApp architecture."}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem",display:"grid",gap:"0.75rem"},children:[(0,b.jsx)("h2",{style:{margin:0},children:"Certificate Operations"}),(0,b.jsx)("label",{htmlFor:"studentId",style:{display:"block",marginBottom:4,fontWeight:700},children:"Student ID"}),(0,b.jsx)("input",{id:"studentId",value:a,onChange:a=>d(a.target.value),placeholder:"e.g. STU-1001",style:{width:"100%",padding:"0.6rem"},disabled:H}),(0,b.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,b.jsx)("button",{onClick:()=>D("issue"),disabled:F||G,style:{minWidth:170},children:F?"Issuing...":"Issue Certificate"}),(0,b.jsx)("button",{onClick:()=>D("revoke"),disabled:F||G,style:{minWidth:170},children:G?"Revoking...":"Revoke Certificate"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"Create Student"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Full Name",value:o.full_name,onChange:a=>p(b=>({...b,full_name:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Student ID",value:o.student_id,onChange:a=>p(b=>({...b,student_id:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Email",value:o.email,onChange:a=>p(b=>({...b,email:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Program",value:o.program,onChange:a=>p(b=>({...b,program:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Enrollment Year",value:o.enrollment_year,onChange:a=>p(b=>({...b,enrollment_year:a.target.value}))}),(0,b.jsx)("button",{disabled:H,onClick:()=>C("/api/admin/create-student",o,"create-student",()=>p({full_name:"",student_id:"",email:"",program:"",enrollment_year:""})),children:"create-student"===e?"Creating...":"Create Student"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"Create Course"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Course Code",value:q.course_code,onChange:a=>r(b=>({...b,course_code:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Course Name",value:q.course_name,onChange:a=>r(b=>({...b,course_name:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Credit Hours",value:q.credit_hours,onChange:a=>r(b=>({...b,credit_hours:a.target.value}))}),(0,b.jsx)("button",{disabled:H,onClick:()=>C("/api/admin/create-course",q,"create-course",()=>r({course_code:"",course_name:"",credit_hours:""})),children:"create-course"===e?"Creating...":"Create Course"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"Update Student Status"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Student ID",value:y.student_id,onChange:a=>z(b=>({...b,student_id:a.target.value}))}),(0,b.jsxs)("select",{value:y.status,onChange:a=>z(b=>({...b,status:a.target.value})),children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"graduated",children:"Graduated"})]}),(0,b.jsx)("input",{placeholder:"Graduation Year (required if Graduated)",value:y.graduation_year,onChange:a=>z(b=>({...b,graduation_year:a.target.value})),disabled:"graduated"!==y.status}),(0,b.jsx)("button",{disabled:H,onClick:()=>C("/api/admin/update-student-status",y,"update-student-status",()=>z({student_id:"",status:"active",graduation_year:""})),children:"update-student-status"===e?"Updating...":"Update Status"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"Assign Course Grade"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Student ID",value:s.student_id,onChange:a=>t(b=>({...b,student_id:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Course Code",value:s.course_code,onChange:a=>t(b=>({...b,course_code:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Grade (e.g. A, B+)",value:s.grade,onChange:a=>t(b=>({...b,grade:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Semester (e.g. Fall)",value:s.semester,onChange:a=>t(b=>({...b,semester:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Year",value:s.year,onChange:a=>t(b=>({...b,year:a.target.value}))}),(0,b.jsx)("button",{disabled:H,onClick:()=>C("/api/admin/assign-grade",s,"assign-grade",()=>t({student_id:"",course_code:"",grade:"",semester:"",year:""})),children:"assign-grade"===e?"Saving...":"Assign Grade"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"Record Activity Participation"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Student ID",value:u.student_id,onChange:a=>v(b=>({...b,student_id:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Activity Name",value:u.activity_name,onChange:a=>v(b=>({...b,activity_name:a.target.value}))}),(0,b.jsx)("input",{placeholder:"Description (optional)",value:u.description,onChange:a=>v(b=>({...b,description:a.target.value}))}),(0,b.jsx)("input",{type:"date",value:u.participation_date,onChange:a=>v(b=>({...b,participation_date:a.target.value}))}),(0,b.jsx)("button",{disabled:H,onClick:()=>C("/api/admin/add-activity",u,"add-activity",()=>v({student_id:"",activity_name:"",description:"",participation_date:""})),children:"add-activity"===e?"Saving...":"Add Activity"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"Approve Financial Clearance"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Student ID",value:w.student_id,onChange:a=>x(b=>({...b,student_id:a.target.value}))}),(0,b.jsxs)("label",{children:[(0,b.jsx)("input",{type:"checkbox",checked:w.tuition_paid,onChange:a=>x(b=>({...b,tuition_paid:a.target.checked}))})," ","Tuition Paid"]}),(0,b.jsxs)("label",{children:[(0,b.jsx)("input",{type:"checkbox",checked:w.clearance_approved,onChange:a=>x(b=>({...b,clearance_approved:a.target.checked}))})," ","Clearance Approved"]}),(0,b.jsx)("button",{disabled:H,onClick:()=>C("/api/admin/approve-clearance",w,"approve-clearance",()=>x({student_id:"",tuition_paid:!0,clearance_approved:!0})),children:"approve-clearance"===e?"Updating...":"Approve Clearance"})]})]}),(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h2",{style:{marginTop:0},children:"View Student Academic Summary"}),(0,b.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,b.jsx)("input",{placeholder:"Student ID",value:A,onChange:a=>B(a.target.value)}),(0,b.jsx)("button",{disabled:H,onClick:E,children:"summary"===e?"Loading...":"View Summary"})]}),m?(0,b.jsxs)("div",{style:{marginTop:12,borderTop:"1px solid #eee",paddingTop:10},children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Name:"})," ",m.student.fullName]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Program:"})," ",m.student.program]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"CGPA:"})," ",m.cgpa]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Financial Clearance:"})," ",m.financial.clearance_approved?"Approved":"Pending"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Certificate:"})," ",m.certificate.issued?m.certificate.status:"Not issued"]})]}):null]}),g?(0,b.jsx)("section",{style:{border:"1px solid #ffc9c9",borderRadius:10,padding:"0.9rem"},children:(0,b.jsxs)("p",{style:{color:"crimson",margin:0},children:[(0,b.jsx)("strong",{children:"Error:"})," ",g]})}):null,k?(0,b.jsx)("section",{style:{border:"1px solid #b7e4c7",borderRadius:10,padding:"0.9rem"},children:(0,b.jsx)("p",{style:{color:"green",margin:0},children:k})}):null,i?(0,b.jsxs)("section",{style:{border:"1px solid #ddd",borderRadius:12,padding:"1rem"},children:[(0,b.jsx)("h3",{style:{marginTop:0},children:"Operation Result"}),(0,b.jsxs)("div",{style:{display:"grid",gap:"0.4rem"},children:[i.studentId?(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Student ID:"})," ",i.studentId]}):null,null!=i.cgpa?(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"CGPA:"})," ",i.cgpa]}):null,i.documentHash?(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Document Hash:"})," ",i.documentHash]}):null,i.blockchainTxHash?(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Blockchain Tx:"})," ",i.blockchainTxHash]}):null,i.pdfPath?(0,b.jsx)("p",{children:(0,b.jsx)("a",{href:i.pdfPath,target:"_blank",rel:"noreferrer",children:"Download Generated Certificate PDF"})}):null]})]}):null]})}a.s(["default",()=>d])}];

//# sourceMappingURL=Desktop_Fifth%20semester_blockchain_project_frontend_app_admin_page_b4f49229.js.map