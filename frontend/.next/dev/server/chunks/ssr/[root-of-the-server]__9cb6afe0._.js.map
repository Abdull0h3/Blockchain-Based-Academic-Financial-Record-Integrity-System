{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/app/admin/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nexport default function AdminDashboardPage() {\r\n  const [studentId, setStudentId] = useState(\"\");\r\n  const [loadingAction, setLoadingAction] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [result, setResult] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  async function runAction(action) {\r\n    setError(\"\");\r\n    setResult(null);\r\n    setSuccessMessage(\"\");\r\n\r\n    const normalizedStudentId = studentId.trim();\r\n    if (!normalizedStudentId) {\r\n      setError(\"Please enter a valid student ID\");\r\n      return;\r\n    }\r\n\r\n    const endpoint =\r\n      action === \"issue\" ? \"/api/admin/issue-certificate\" : \"/api/admin/revoke\";\r\n\r\n    try {\r\n      setLoadingAction(action);\r\n\r\n      // Frontend only talks to API routes.\r\n      // Private key and blockchain writes stay on backend for secure architecture.\r\n      const response = await fetch(endpoint, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ studentId: normalizedStudentId }),\r\n      });\r\n\r\n      const payload = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(payload.error || \"Request failed\");\r\n      }\r\n\r\n      setResult(payload);\r\n      setSuccessMessage(payload.message || \"Action completed successfully\");\r\n    } catch (requestError) {\r\n      setError(requestError.message || \"Unexpected error occurred\");\r\n    } finally {\r\n      setLoadingAction(\"\");\r\n    }\r\n  }\r\n\r\n  const isIssueLoading = loadingAction === \"issue\";\r\n  const isRevokeLoading = loadingAction === \"revoke\";\r\n  const isBusy = Boolean(loadingAction);\r\n\r\n  return (\r\n    <main\r\n      style={{\r\n        maxWidth: \"900px\",\r\n        margin: \"0 auto\",\r\n        padding: \"2rem 1.25rem\",\r\n        fontFamily: \"Arial, sans-serif\",\r\n        display: \"grid\",\r\n        gap: \"1rem\",\r\n      }}\r\n    >\r\n      <h1 style={{ marginBottom: 0 }}>Academic Record Admin Dashboard</h1>\r\n      <p style={{ marginTop: 0 }}>\r\n        Admin actions are executed via backend API routes only. This keeps private keys in the\r\n        backend and enforces secure DApp architecture.\r\n      </p>\r\n\r\n      <section\r\n        style={{\r\n          border: \"1px solid #ddd\",\r\n          borderRadius: 12,\r\n          padding: \"1rem\",\r\n          display: \"grid\",\r\n          gap: \"0.75rem\",\r\n        }}\r\n      >\r\n        <h2 style={{ margin: 0 }}>Certificate Operations</h2>\r\n        <label htmlFor=\"studentId\" style={{ display: \"block\", marginBottom: 4, fontWeight: 700 }}>\r\n          Student ID\r\n        </label>\r\n        <input\r\n          id=\"studentId\"\r\n          value={studentId}\r\n          onChange={(event) => setStudentId(event.target.value)}\r\n          placeholder=\"e.g. STU-1001\"\r\n          style={{ width: \"100%\", padding: \"0.6rem\" }}\r\n          disabled={isBusy}\r\n        />\r\n\r\n        <div style={{ display: \"flex\", gap: \"0.75rem\", flexWrap: \"wrap\" }}>\r\n          <button\r\n            onClick={() => runAction(\"issue\")}\r\n            disabled={isIssueLoading || isRevokeLoading}\r\n            style={{ minWidth: 170 }}\r\n          >\r\n            {isIssueLoading ? \"Issuing...\" : \"Issue Certificate\"}\r\n          </button>\r\n          <button\r\n            onClick={() => runAction(\"revoke\")}\r\n            disabled={isIssueLoading || isRevokeLoading}\r\n            style={{ minWidth: 170 }}\r\n          >\r\n            {isRevokeLoading ? \"Revoking...\" : \"Revoke Certificate\"}\r\n          </button>\r\n        </div>\r\n      </section>\r\n\r\n      {error ? (\r\n        <section style={{ border: \"1px solid #ffc9c9\", borderRadius: 10, padding: \"0.9rem\" }}>\r\n          <p style={{ color: \"crimson\", margin: 0 }}>\r\n            <strong>Error:</strong> {error}\r\n          </p>\r\n        </section>\r\n      ) : null}\r\n\r\n      {successMessage ? (\r\n        <section style={{ border: \"1px solid #b7e4c7\", borderRadius: 10, padding: \"0.9rem\" }}>\r\n          <p style={{ color: \"green\", margin: 0 }}>{successMessage}</p>\r\n        </section>\r\n      ) : null}\r\n\r\n      {result ? (\r\n        <section style={{ border: \"1px solid #ddd\", borderRadius: 12, padding: \"1rem\" }}>\r\n          <h3 style={{ marginTop: 0 }}>Operation Result</h3>\r\n          <div style={{ display: \"grid\", gap: \"0.4rem\" }}>\r\n            {result.studentId ? (\r\n              <p>\r\n                <strong>Student ID:</strong> {result.studentId}\r\n              </p>\r\n            ) : null}\r\n            {result.cgpa != null ? (\r\n              <p>\r\n                <strong>CGPA:</strong> {result.cgpa}\r\n              </p>\r\n            ) : null}\r\n            {result.documentHash ? (\r\n              <p>\r\n                <strong>Document Hash:</strong> {result.documentHash}\r\n              </p>\r\n            ) : null}\r\n            {result.blockchainTxHash ? (\r\n              <p>\r\n                <strong>Blockchain Tx:</strong> {result.blockchainTxHash}\r\n              </p>\r\n            ) : null}\r\n            {result.pdfPath ? (\r\n              <p>\r\n                <a href={result.pdfPath} target=\"_blank\" rel=\"noreferrer\">\r\n                  Download Generated Certificate PDF\r\n                </a>\r\n              </p>\r\n            ) : null}\r\n          </div>\r\n        </section>\r\n      ) : null}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,oRAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,oRAAQ,EAAC;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oRAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,oRAAQ,EAAC;IACrC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,oRAAQ,EAAC;IAErD,eAAe,UAAU,MAAM;QAC7B,SAAS;QACT,UAAU;QACV,kBAAkB;QAElB,MAAM,sBAAsB,UAAU,IAAI;QAC1C,IAAI,CAAC,qBAAqB;YACxB,SAAS;YACT;QACF;QAEA,MAAM,WACJ,WAAW,UAAU,iCAAiC;QAExD,IAAI;YACF,iBAAiB;YAEjB,qCAAqC;YACrC,6EAA6E;YAC7E,MAAM,WAAW,MAAM,MAAM,UAAU;gBACrC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,WAAW;gBAAoB;YACxD;YAEA,MAAM,UAAU,MAAM,SAAS,IAAI;YACnC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,QAAQ,KAAK,IAAI;YACnC;YAEA,UAAU;YACV,kBAAkB,QAAQ,OAAO,IAAI;QACvC,EAAE,OAAO,cAAc;YACrB,SAAS,aAAa,OAAO,IAAI;QACnC,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,iBAAiB,kBAAkB;IACzC,MAAM,kBAAkB,kBAAkB;IAC1C,MAAM,SAAS,QAAQ;IAEvB,qBACE,iTAAC;QACC,OAAO;YACL,UAAU;YACV,QAAQ;YACR,SAAS;YACT,YAAY;YACZ,SAAS;YACT,KAAK;QACP;;0BAEA,iTAAC;gBAAG,OAAO;oBAAE,cAAc;gBAAE;0BAAG;;;;;;0BAChC,iTAAC;gBAAE,OAAO;oBAAE,WAAW;gBAAE;0BAAG;;;;;;0BAK5B,iTAAC;gBACC,OAAO;oBACL,QAAQ;oBACR,cAAc;oBACd,SAAS;oBACT,SAAS;oBACT,KAAK;gBACP;;kCAEA,iTAAC;wBAAG,OAAO;4BAAE,QAAQ;wBAAE;kCAAG;;;;;;kCAC1B,iTAAC;wBAAM,SAAQ;wBAAY,OAAO;4BAAE,SAAS;4BAAS,cAAc;4BAAG,YAAY;wBAAI;kCAAG;;;;;;kCAG1F,iTAAC;wBACC,IAAG;wBACH,OAAO;wBACP,UAAU,CAAC,QAAU,aAAa,MAAM,MAAM,CAAC,KAAK;wBACpD,aAAY;wBACZ,OAAO;4BAAE,OAAO;4BAAQ,SAAS;wBAAS;wBAC1C,UAAU;;;;;;kCAGZ,iTAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;4BAAW,UAAU;wBAAO;;0CAC9D,iTAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,UAAU,kBAAkB;gCAC5B,OAAO;oCAAE,UAAU;gCAAI;0CAEtB,iBAAiB,eAAe;;;;;;0CAEnC,iTAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,UAAU,kBAAkB;gCAC5B,OAAO;oCAAE,UAAU;gCAAI;0CAEtB,kBAAkB,gBAAgB;;;;;;;;;;;;;;;;;;YAKxC,sBACC,iTAAC;gBAAQ,OAAO;oBAAE,QAAQ;oBAAqB,cAAc;oBAAI,SAAS;gBAAS;0BACjF,cAAA,iTAAC;oBAAE,OAAO;wBAAE,OAAO;wBAAW,QAAQ;oBAAE;;sCACtC,iTAAC;sCAAO;;;;;;wBAAe;wBAAE;;;;;;;;;;;uBAG3B;YAEH,+BACC,iTAAC;gBAAQ,OAAO;oBAAE,QAAQ;oBAAqB,cAAc;oBAAI,SAAS;gBAAS;0BACjF,cAAA,iTAAC;oBAAE,OAAO;wBAAE,OAAO;wBAAS,QAAQ;oBAAE;8BAAI;;;;;;;;;;uBAE1C;YAEH,uBACC,iTAAC;gBAAQ,OAAO;oBAAE,QAAQ;oBAAkB,cAAc;oBAAI,SAAS;gBAAO;;kCAC5E,iTAAC;wBAAG,OAAO;4BAAE,WAAW;wBAAE;kCAAG;;;;;;kCAC7B,iTAAC;wBAAI,OAAO;4BAAE,SAAS;4BAAQ,KAAK;wBAAS;;4BAC1C,OAAO,SAAS,iBACf,iTAAC;;kDACC,iTAAC;kDAAO;;;;;;oCAAoB;oCAAE,OAAO,SAAS;;;;;;uCAE9C;4BACH,OAAO,IAAI,IAAI,qBACd,iTAAC;;kDACC,iTAAC;kDAAO;;;;;;oCAAc;oCAAE,OAAO,IAAI;;;;;;uCAEnC;4BACH,OAAO,YAAY,iBAClB,iTAAC;;kDACC,iTAAC;kDAAO;;;;;;oCAAuB;oCAAE,OAAO,YAAY;;;;;;uCAEpD;4BACH,OAAO,gBAAgB,iBACtB,iTAAC;;kDACC,iTAAC;kDAAO;;;;;;oCAAuB;oCAAE,OAAO,gBAAgB;;;;;;uCAExD;4BACH,OAAO,OAAO,iBACb,iTAAC;0CACC,cAAA,iTAAC;oCAAE,MAAM,OAAO,OAAO;oCAAE,QAAO;oCAAS,KAAI;8CAAa;;;;;;;;;;uCAI1D;;;;;;;;;;;;uBAGN;;;;;;;AAGV"}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+KACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+KACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}