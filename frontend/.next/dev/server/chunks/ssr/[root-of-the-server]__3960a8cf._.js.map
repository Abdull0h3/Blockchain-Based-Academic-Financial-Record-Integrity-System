{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/app/components/IssueForm.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nconst initialForm = {\r\n  studentId: \"\",\r\n  name: \"\",\r\n  program: \"\",\r\n  certificateData: \"\",\r\n};\r\n\r\nexport default function IssueForm() {\r\n  const [form, setForm] = useState(initialForm);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  function handleChange(event) {\r\n    const { name, value } = event.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    try {\r\n      // Frontend sends only user data to backend API.\r\n      // API routes then handle DB writes and blockchain transactions securely.\r\n      const response = await fetch(\"/api/issue\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(form),\r\n      });\r\n\r\n      const payload = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(payload.error || \"Failed to issue record\");\r\n      }\r\n\r\n      setSuccessMessage(\r\n        `Record issued successfully for ${payload.studentId}. Tx: ${payload.transactionHash}`\r\n      );\r\n      setForm(initialForm);\r\n    } catch (submitError) {\r\n      setError(submitError.message || \"Unexpected error while issuing record\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ display: \"grid\", gap: \"0.75rem\" }}>\r\n      <input\r\n        name=\"studentId\"\r\n        value={form.studentId}\r\n        onChange={handleChange}\r\n        placeholder=\"Student ID\"\r\n        required\r\n      />\r\n      <input\r\n        name=\"name\"\r\n        value={form.name}\r\n        onChange={handleChange}\r\n        placeholder=\"Student Name\"\r\n        required\r\n      />\r\n      <input\r\n        name=\"program\"\r\n        value={form.program}\r\n        onChange={handleChange}\r\n        placeholder=\"Program\"\r\n        required\r\n      />\r\n      <textarea\r\n        name=\"certificateData\"\r\n        value={form.certificateData}\r\n        onChange={handleChange}\r\n        placeholder=\"Certificate Data\"\r\n        required\r\n        rows={4}\r\n      />\r\n\r\n      <button type=\"submit\" disabled={loading}>\r\n        {loading ? \"Issuing...\" : \"Issue Record\"}\r\n      </button>\r\n\r\n      {error ? <p style={{ color: \"crimson\" }}>{error}</p> : null}\r\n      {successMessage ? <p style={{ color: \"green\" }}>{successMessage}</p> : null}\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,cAAc;IAClB,WAAW;IACX,MAAM;IACN,SAAS;IACT,iBAAiB;AACnB;AAEe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,oRAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oRAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oRAAQ,EAAC;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,oRAAQ,EAAC;IAErD,SAAS,aAAa,KAAK;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM;QACpC,QAAQ,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IAC/C;IAEA,eAAe,aAAa,KAAK;QAC/B,MAAM,cAAc;QACpB,WAAW;QACX,SAAS;QACT,kBAAkB;QAElB,IAAI;YACF,gDAAgD;YAChD,yEAAyE;YACzE,MAAM,WAAW,MAAM,MAAM,cAAc;gBACzC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,UAAU,MAAM,SAAS,IAAI;YAEnC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,QAAQ,KAAK,IAAI;YACnC;YAEA,kBACE,CAAC,+BAA+B,EAAE,QAAQ,SAAS,CAAC,MAAM,EAAE,QAAQ,eAAe,EAAE;YAEvF,QAAQ;QACV,EAAE,OAAO,aAAa;YACpB,SAAS,YAAY,OAAO,IAAI;QAClC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,iTAAC;QAAK,UAAU;QAAc,OAAO;YAAE,SAAS;YAAQ,KAAK;QAAU;;0BACrE,iTAAC;gBACC,MAAK;gBACL,OAAO,KAAK,SAAS;gBACrB,UAAU;gBACV,aAAY;gBACZ,QAAQ;;;;;;0BAEV,iTAAC;gBACC,MAAK;gBACL,OAAO,KAAK,IAAI;gBAChB,UAAU;gBACV,aAAY;gBACZ,QAAQ;;;;;;0BAEV,iTAAC;gBACC,MAAK;gBACL,OAAO,KAAK,OAAO;gBACnB,UAAU;gBACV,aAAY;gBACZ,QAAQ;;;;;;0BAEV,iTAAC;gBACC,MAAK;gBACL,OAAO,KAAK,eAAe;gBAC3B,UAAU;gBACV,aAAY;gBACZ,QAAQ;gBACR,MAAM;;;;;;0BAGR,iTAAC;gBAAO,MAAK;gBAAS,UAAU;0BAC7B,UAAU,eAAe;;;;;;YAG3B,sBAAQ,iTAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAU;0BAAI;;;;;uBAAa;YACtD,+BAAiB,iTAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAQ;0BAAI;;;;;uBAAsB;;;;;;;AAG7E"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/app/components/VerifyForm.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nexport default function VerifyForm() {\r\n  const [studentId, setStudentId] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [record, setRecord] = useState(null);\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setRecord(null);\r\n\r\n    try {\r\n      // Security boundary:\r\n      // The frontend never talks to blockchain directly and never sees private keys.\r\n      // It calls the backend API, which performs controlled contract reads/writes.\r\n      const response = await fetch(\"/api/verify\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ studentId }),\r\n      });\r\n\r\n      const payload = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(payload.error || \"Failed to verify record\");\r\n      }\r\n\r\n      setRecord(payload.data);\r\n    } catch (verifyError) {\r\n      setError(verifyError.message || \"Unexpected error while verifying record\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const formattedDate =\r\n    record?.timestamp != null ? new Date(Number(record.timestamp) * 1000).toLocaleString() : \"\";\r\n\r\n  return (\r\n    <div style={{ display: \"grid\", gap: \"0.75rem\" }}>\r\n      <form onSubmit={handleSubmit} style={{ display: \"grid\", gap: \"0.75rem\" }}>\r\n        <input\r\n          value={studentId}\r\n          onChange={(event) => setStudentId(event.target.value)}\r\n          placeholder=\"Student ID\"\r\n          required\r\n        />\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? \"Verifying...\" : \"Verify Record\"}\r\n        </button>\r\n      </form>\r\n\r\n      {error ? <p style={{ color: \"crimson\" }}>{error}</p> : null}\r\n\r\n      {record ? (\r\n        <div style={{ border: \"1px solid #ddd\", borderRadius: \"8px\", padding: \"1rem\" }}>\r\n          <p>\r\n            <strong>Student ID:</strong> {record.studentId}\r\n          </p>\r\n          <p>\r\n            <strong>Document Hash:</strong> {record.documentHash}\r\n          </p>\r\n          <p>\r\n            <strong>Issuer:</strong> {record.issuer}\r\n          </p>\r\n          <p>\r\n            <strong>Timestamp:</strong> {formattedDate}\r\n          </p>\r\n          <p>\r\n            <strong>Status:</strong> {record.isValid ? \"Valid\" : \"Revoked\"}\r\n          </p>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,oRAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oRAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oRAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,oRAAQ,EAAC;IAErC,eAAe,aAAa,KAAK;QAC/B,MAAM,cAAc;QACpB,WAAW;QACX,SAAS;QACT,UAAU;QAEV,IAAI;YACF,qBAAqB;YACrB,+EAA+E;YAC/E,6EAA6E;YAC7E,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAU;YACnC;YAEA,MAAM,UAAU,MAAM,SAAS,IAAI;YAEnC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,QAAQ,KAAK,IAAI;YACnC;YAEA,UAAU,QAAQ,IAAI;QACxB,EAAE,OAAO,aAAa;YACpB,SAAS,YAAY,OAAO,IAAI;QAClC,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,gBACJ,QAAQ,aAAa,OAAO,IAAI,KAAK,OAAO,OAAO,SAAS,IAAI,MAAM,cAAc,KAAK;IAE3F,qBACE,iTAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,KAAK;QAAU;;0BAC5C,iTAAC;gBAAK,UAAU;gBAAc,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAU;;kCACrE,iTAAC;wBACC,OAAO;wBACP,UAAU,CAAC,QAAU,aAAa,MAAM,MAAM,CAAC,KAAK;wBACpD,aAAY;wBACZ,QAAQ;;;;;;kCAEV,iTAAC;wBAAO,MAAK;wBAAS,UAAU;kCAC7B,UAAU,iBAAiB;;;;;;;;;;;;YAI/B,sBAAQ,iTAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAU;0BAAI;;;;;uBAAa;YAEtD,uBACC,iTAAC;gBAAI,OAAO;oBAAE,QAAQ;oBAAkB,cAAc;oBAAO,SAAS;gBAAO;;kCAC3E,iTAAC;;0CACC,iTAAC;0CAAO;;;;;;4BAAoB;4BAAE,OAAO,SAAS;;;;;;;kCAEhD,iTAAC;;0CACC,iTAAC;0CAAO;;;;;;4BAAuB;4BAAE,OAAO,YAAY;;;;;;;kCAEtD,iTAAC;;0CACC,iTAAC;0CAAO;;;;;;4BAAgB;4BAAE,OAAO,MAAM;;;;;;;kCAEzC,iTAAC;;0CACC,iTAAC;0CAAO;;;;;;4BAAmB;4BAAE;;;;;;;kCAE/B,iTAAC;;0CACC,iTAAC;0CAAO;;;;;;4BAAgB;4BAAE,OAAO,OAAO,GAAG,UAAU;;;;;;;;;;;;uBAGvD;;;;;;;AAGV"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+KACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahmed/Desktop/Fifth%20semester/blockchain/project/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,+KACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}